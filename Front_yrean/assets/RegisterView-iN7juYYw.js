import{r as t,c as v,a as s,u as _,l as V,b as k,w as n,v as u,t as f,d as g,e as P,f as x,g as R,h as S,i as h,o as w}from"./index-D0AzF91-.js";const C={class:"register-container"},N=["src"],U={class:"form-group"},q={class:"form-group"},T={class:"form-group"},B={class:"form-group"},E={key:0,class:"error-message"},j=["disabled"],D={class:"login-link"},O={__name:"RegisterView",setup(L){const c=h(),r=t(""),l=t(!1),d=t(""),m=t(""),i=t(""),p=t(""),y=async()=>{if(i.value!==p.value){r.value="Passwords do not match";return}try{l.value=!0,r.value="";const a=await fetch("http://localhost:5001/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:d.value,email:m.value,password:i.value})}),e=await a.json();if(!a.ok)throw new Error(e.error||"Registration failed");c.push("/create-presentation")}catch(a){r.value=a.message}finally{l.value=!1}};return(a,e)=>{const b=R("router-link");return w(),v("div",C,[s("img",{src:_(V),alt:"Logo",class:"logo"},null,8,N),s("form",{onSubmit:S(y,["prevent"]),class:"register-form"},[e[10]||(e[10]=s("h1",null,"Register",-1)),s("div",U,[e[4]||(e[4]=s("label",{for:"username"},"Username",-1)),n(s("input",{id:"username","onUpdate:modelValue":e[0]||(e[0]=o=>d.value=o),type:"text",required:""},null,512),[[u,d.value]])]),s("div",q,[e[5]||(e[5]=s("label",{for:"email"},"Email",-1)),n(s("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=o=>m.value=o),type:"email",required:""},null,512),[[u,m.value]])]),s("div",T,[e[6]||(e[6]=s("label",{for:"password"},"Password",-1)),n(s("input",{id:"password","onUpdate:modelValue":e[2]||(e[2]=o=>i.value=o),type:"password",required:""},null,512),[[u,i.value]])]),s("div",B,[e[7]||(e[7]=s("label",{for:"confirmPassword"},"Confirm Password",-1)),n(s("input",{id:"confirmPassword","onUpdate:modelValue":e[3]||(e[3]=o=>p.value=o),type:"password",required:""},null,512),[[u,p.value]])]),r.value?(w(),v("div",E,f(r.value),1)):k("",!0),s("button",{type:"submit",disabled:l.value},f(l.value?"Registering...":"Register"),9,j),s("p",D,[e[9]||(e[9]=g(" Already have an account? ")),P(b,{to:"/login"},{default:x(()=>e[8]||(e[8]=[g("Login here")])),_:1,__:[8]})])],32)])}}};export{O as default};
