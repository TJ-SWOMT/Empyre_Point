const s="http://44.201.125.158:5001/api",t=()=>{const e=sessionStorage.getItem("user");if(!e)return{};try{return{Authorization:`Bearer ${JSON.parse(e).user_id}`}}catch(n){return console.error("Error parsing user data:",n),{}}},d={async createPresentation(e,n,o){console.log("title",n),console.log("description",o);const r=await fetch(`${s}/presentations`,{method:"POST",headers:{"Content-Type":"application/json",...t()},body:JSON.stringify({user_id:e,title:n,description:o})});return console.log("response",r),r.json()},async getPresentation(e){return(await fetch(`${s}/presentations/${e}`,{method:"GET",headers:{"Content-Type":"application/json",...t()}})).json()},async getUserPresentations(e){console.log("user_id",e),console.log("API_BASE_URL",s);const n=await fetch(`${s}/user/${e}/presentations`,{method:"GET",headers:{"Content-Type":"application/json",...t()}});return console.log(n),n.json()},async updatePresentation(e,n){return(await fetch(`${s}/presentations/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",...t()},body:JSON.stringify(n)})).json()},async deletePresentation(e){return(await fetch(`${s}/presentations/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",...t()}})).json()},async createSlide(e,n,o="#FFFFFF",r=null,a="",p=1,i="cover"){return(await fetch(`${s}/presentations/${e}/slides`,{method:"POST",headers:{"Content-Type":"application/json",...t()},body:JSON.stringify({slide_number:n,background_color:o,background_image_url:r,title:a,background_image_opacity:p,background_image_fit:i})})).json()},async updateSlide(e,n,o,r,a,p=1,i="cover"){return(await fetch(`${s}/slides/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",...t()},body:JSON.stringify({slide_number:n,background_color:o,background_image_url:r,title:a,background_image_opacity:p,background_image_fit:i})})).json()},async deleteSlide(e){return(await fetch(`${s}/slides/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",...t()}})).json()},async getSlideElements(e){return(await fetch(`${s}/slides/${e}/elements`,{method:"GET",headers:{"Content-Type":"application/json",...t()}})).json()},async createTextElement(e,n){return(await fetch(`${s}/slides/${e}/elements/text`,{method:"POST",headers:{"Content-Type":"application/json",...t()},body:JSON.stringify({...n,element_type:"text"})})).json()},async updateElement(e,n){return(await fetch(`${s}/elements/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",...t()},body:JSON.stringify(n)})).json()},async deleteElement(e){return(await fetch(`${s}/elements/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",...t()}})).json()},async uploadImage(e){const n=new FormData;return n.append("file",e),(await fetch(`${s}/upload/image`,{method:"POST",headers:t(),body:n})).json()},async createImageElement(e,n){return(await fetch(`${s}/slides/${e}/elements/image`,{method:"POST",headers:{"Content-Type":"application/json",...t()},body:JSON.stringify({...n,element_type:"image"})})).json()}},l=e=>e.response?e.response.data.error||"An error occurred":e.message||"An unexpected error occurred";export{l as h,d as p};
