import{r,c as i,a as s,u as b,l as w,b as y,w as u,v as d,t as g,d as p,e as L,f as S,g as V,h,i as k,o as m}from"./index-D0AzF91-.js";import{a as x,h as N}from"./api-DgzFD1Ui.js";const A={class:"login-container"},B=["src"],C={class:"form-group"},D={class:"form-group"},E={key:0,class:"error-message"},U=["disabled"],q={class:"register-link"},R={__name:"LoginView",setup(I){const c=k(),o=r(""),t=r(!1),a=r(""),n=r(""),v=async f=>{console.log("onSubmit called"),t.value=!0,o.value="";try{const e=await x.login(a.value,n.value);console.log("Login API response:",e),e.success?(console.log("Login successful"),sessionStorage.setItem("user",JSON.stringify(e.user)),c.push("/presentations")):o.value=e.error||"Login failed"}catch(e){o.value=N(e)}finally{t.value=!1}};return(f,e)=>{const _=V("router-link");return m(),i("div",A,[s("img",{src:b(w),alt:"Logo",class:"logo"},null,8,B),s("form",{onSubmit:h(v,["prevent"]),class:"login-form"},[e[6]||(e[6]=s("h1",null,"Login",-1)),s("div",C,[e[2]||(e[2]=s("label",{for:"username"},"Username",-1)),u(s("input",{id:"username","onUpdate:modelValue":e[0]||(e[0]=l=>a.value=l),type:"text",required:""},null,512),[[d,a.value]])]),s("div",D,[e[3]||(e[3]=s("label",{for:"password"},"Password",-1)),u(s("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=l=>n.value=l),type:"password",required:""},null,512),[[d,n.value]])]),o.value?(m(),i("div",E,g(o.value),1)):y("",!0),s("button",{type:"submit",disabled:t.value},g(t.value?"Logging in...":"Login"),9,U),s("p",q,[e[5]||(e[5]=p(" Don't have an account? ")),L(_,{to:"/register"},{default:S(()=>e[4]||(e[4]=[p("Register here")])),_:1,__:[4]})])],32)])}}};export{R as default};
